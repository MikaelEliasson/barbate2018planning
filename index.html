<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Träningar Spanien 2017</title>
    <style type="text/css">
        body {
            font-family: sans-serif;
            background-color: #f3f3f3;
        }

        h1 {
            font-weight: 100;
            margin: 0;
            padding: 5px 10px 0px;
            text-transform: uppercase;
            color: #1f5d8b;
            font-size: 1.3em;
        }

        h2 {
            font-weight: 100;
            margin: 0 0 10px 0;
            color: #c10ba7;
            margin-top: 20px;
            font-size: 1.1em;
            height: 1.1em;
        }

        .content {
            /*width: 960px;*/
            margin: auto;
            /*background-color: #fff;*/
        }

        #tTbl {
            background-color: #fff;
        }

        dt {
            display: inline-block;
            color: #2e87c7;
        }

        dd {
            display: inline-block;
            margin-left: 5px;
            margin-right: 15px;
            font-size: 0.9em;
            color: #999;
        }

        .infoD {
            padding: 0 0 10px;
        }
        /*h1:nth-of-type(2n+1) {
            background-color: #1f5d8b;
            color: #fff;
        }

        .infoD:nth-of-type(2n+1) {
            background-color: #1f5d8b;
            color: #fff;
        }*/

        table {
            border-collapse: collapse;
            margin: 0 0 20px;
        }

        td,
        th {
            vertical-align: top;
            font-size: 0.9em;
            text-align: left;
            padding: 2px;
            border: solid 1px #ddd;
        }

        .smallTitle {
            color: #666;
        }

        .day {
            width: 300px;
            background-color: #fff;
            display: inline-block;
            font-size: 0.8em;
            margin: 0 10px 10px 0;
            vertical-align: top;
            box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .code {
            float: right;
            display: inline-block;
            margin-left: 10px;
            background-color: #2e87c7;
            color: #fff;
            margin-top: 10px;
            padding: 3px;
            border-radius: 2px;
        }

        .level1 {
            background-color: #d1fcd1;
        }

        .level2 {
            background-color: #add3ee;
        }

        .level3 {
            background-color: #ebdd91;
        }

        .level4 {
            background-color: #ebb5b5;
        }

        .level10, .levelundefined, .levelnull {
            background-color: #eee;
        }

        #legend {
            margin: 0 0 30px;
            background-color: #fff;
        }

        .legendBlock {
            width: 100px;
            display: inline-block;
        }

        .training {
            padding: 5px 10px;
        }

            .training:target {
                background-color: #1f5d8b;
                color: #fff;
            }

                .training:target h2,
                .training:target dt {
                    color: #fff;
                }


        td {
            width: 100px;
            height: 35px;
            max-height: 35px;
            overflow-y: hidden;
        }
    </style>
    <title>Map with valid credentials</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript" src="https://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0&s=1"></script>
    <script type="text/javascript">
        var locations = [];
        var addLocation = function (pack, code, trainingType, distance, location, order, mapName, controls, contours, scale) {
            locations.push({
                pack: pack,
                code: code,
                trainingType: trainingType,
                distance: distance,
                location: location,
                order: order,
                mapName: mapName,
                controls: controls,
                contours: contours,
                scale: scale
            });
        };
		
//'00' 	,'City/Forest Sprint'  	,'3,0k' 		,'36.185361, -6.008900', 'Caños de Meca' 			,'2,5 m'	'1:5000 ', asphalt, soft soil 				00:00
//'01' 	,'City Sprint' 			,'2,3 (4,1)k' 	,'36.254856, -5.967937', 'Vejer de la Frontera' 	,'5 m ',	'1:5000 ', asphalt, grass in parks 			00:20
//'02' 	,'Middle' 				,'7,4k' 		,'36.193689, -5.993832', 'La Breña- Barbate' 		,'2,5 m'	'1:10000', soft soil-easy run 				00:03
//'03' 	,'Multitechniques' 		,'11,4k' 		,'36.196785, -5.981553', 'La Breña- Barbate' 		,'2,5 m'	'1:10000', soft soil-easy run 				00:05
//'04' 	,'Long' 				,'16,6k' 		,'36.187109, -6.008064', 'La Breña- Barbate' 		,'2,5 m'	'1:10000', soft soil-easy run 				00:00
//'05' 	,'Middle (Mass start)'  ,'6,8k' 		,'36.200353, -5.951827', 'La Breña- Barbate' 		,'2,5 m'	'1:10000', soft soil-easy run 				00:13
//'06' 	,'Middle (Mass start)'  ,'5,0k' 		,'36.205301, -5.992649', 'La Breña- Barbate' 		,'2,5 m'	'1:10000', soft soil-easy run 				00:09
//'07' 	,'Forest Sprint' 		,'2,9k' 		,'36.205301, -5.992649', 'La Breña- Barbate' 		,'2,5 m'	'1:5000 ', soft soil-easy run 				00:09
//'08' 	,'Long' 				,'7,4k' 		,'36.080433, -5.759603', 'El Lentiscal' 			,'2,5 m'	'1:10000', sandy soil-medium run 			00:45
//'09' 	,'City (long) Sprint'	,'4,3k' 		,'36.453871, -5.926418', 'Medina Sidonia' 			,'2,5 m'	'1:5000 ', asphalt, grass in parks 			00:37
//'10' 	,'Interval'				,'8,7k' 		,'36.200353, -5.951827', 'La Breña- Barbate' 		,'2,5 m'	'1:10000', soft soil-easy run 				00:13
//'11' 	,'City Sprint' 			,'2,1 (3,9)k' 	,'36.276039, -6.092911', 'Conil de la Frontera' 	,'5 m ',	'1:4000 ', asphalt, grass in parks 			00:23
//'12' 	,'Downhills' 			,'11,4k' 		,'36.200353, -5.951827', 'La Breña- Barbate' 		,'2,5 m'	'1:10000', soft soil-easy run 				00:13
//'13' 	,'Relay'  				,'6,7k' 		,'36.193689, -5.993832', 'La Breña- Barbate' 		,'2,5 m'	'1:10000', soft soil-easy run 				00:03
//'14' 	,'Middle' 				,'6,6k' 		,'36.200548, -6.017977', 'La Breña- Barbate' 		,'2,5 m'	'1:10000', soft soil-easy run 				00:06
//'15' 	,'Middle' 				,'7,7k' 		,'36.331953, -6.159592', 'Roche' 					,'2,5 m'	'1:10000', soft soil-easy run 				00:37
//'16' 	,'Middle' 				,'5,0k' 		,'36.080469, -5.759523', 'Lentiscal' 				,'5 m ',	'1:10000', sandy to hard soil- good run 	00:45
//'000'	,'Middle' 				,'4,0k' 		,'36.087330, -5.770076', 'Bolonia Este' 			,'5 m ',	'1:7500 ', sandy soil-medium run 			00:51


		
		
		
		addLocation('BAR', '00' 	,'City/Forest Sprint'  	,'3,0k' 		,'36.185361, -6.008900', '1' 	,'Caños de Meca' 			,'1' ,'2,5 m'	,'1:5000 ');
		addLocation('BAR', '01' 	,'City Sprint' 			,'2,3 (4,1)k' 	,'36.254856, -5.967937', '2' 	,'Vejer de la Frontera' 	,'1' ,'5 m ' 	,'1:5000 ');
		addLocation('BAR', '02' 	,'Middle' 				,'7,4k' 		,'36.193689, -5.993832', '3' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '03' 	,'Multitechniques' 		,'11,4k' 		,'36.196785, -5.981553', '4' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '04' 	,'Long' 				,'16,6k' 		,'36.187109, -6.008064', '5' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '05' 	,'Middle (Mass start)'  ,'6,8k' 		,'36.200353, -5.951827', '6' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '06' 	,'Middle (Mass start)'  ,'5,0k' 		,'36.205301, -5.992649', '7' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '07' 	,'Forest Sprint' 		,'2,9k' 		,'36.205301, -5.992649', '8' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:5000 ');
		addLocation('BAR', '08' 	,'Long' 				,'7,4k' 		,'36.080433, -5.759603', '9' 	,'El Lentiscal' 			,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '09' 	,'City (long) Sprint'	,'4,3k' 		,'36.453871, -5.926418', '10' 	,'Medina Sidonia' 			,'1' ,'2,5 m'	,'1:5000 ');
		addLocation('BAR', '10' 	,'Interval'				,'8,7k' 		,'36.200353, -5.951827', '11' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '11' 	,'City Sprint' 			,'2,1 (3,9)k' 	,'36.276039, -6.092911', '12' 	,'Conil de la Frontera' 	,'1' ,'5 m ' 	,'1:4000 ');
		addLocation('BAR', '12' 	,'Downhills' 			,'11,4k' 		,'36.200353, -5.951827', '13' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '13' 	,'Relay'  				,'6,7k' 		,'36.193689, -5.993832', '14' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '14' 	,'Middle' 				,'6,6k' 		,'36.200548, -6.017977', '15' 	,'La Breña- Barbate' 		,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '15' 	,'Middle' 				,'7,7k' 		,'36.331953, -6.159592', '16' 	,'Roche' 					,'1' ,'2,5 m'	,'1:10000');
		addLocation('BAR', '16' 	,'Middle' 				,'5,0k' 		,'36.080469, -5.759523', '17' 	,'Lentiscal' 				,'1' ,'5 m ' 	,'1:10000');
		addLocation('BAR', '000'	,'Middle' 				,'4,0k' 		,'36.087330, -5.770076', '18' 	,'Bolonia Este' 			,'1' ,'5 m ' 	,'1:7500 ');
		
		

        //addLocation('BARBATE', '00', 'Middle', '7500', '38.1398, -0.63684', '1', 'Marina (Guardamar Norte)', '20', '2,5', '1:7.500'); //NO TAPES
        //addLocation('BARBATE', '01', 'Short', '2700', '38.1398, -0.63684', '2', 'Marina (Guardamar Norte)', '11', '2,5', '1:5000');
        //addLocation('BARBATE', '02', 'One man relay', '6500', '38.1398, -0.63684', '3', 'Guardamar Norte', '19', '2,5', '1:7.500');
        //addLocation('BARBATE', '03', 'Star (3 loops)', '6100', '38.1398, -0.63684', '4', 'Guardamar Norte', '16', '2,5', '1:7.500');
        //addLocation('BARBATE', '04', 'N-Course', '3700', '38.1398, -0.63684', '5', 'Guardamar Norte', '9', '2,5', '1:7.500');
        //addLocation('BARBATE', '05', 'Night relay', '6600', '38.1398, -0.63684', '6', 'Guardamar Norte', '16', '2,5', '1:7.500');
        //addLocation('BARBATE', '06', '10 INTERVALS', '5800', '38.109425,-0.654615', '7', 'Guardamar Norte', '38', '2,5', '1:7.500');
        //addLocation('BARBATE', '07', 'Control picking', '8700', '38.109425,-0.654615', '8', 'Guardamar Norte', '60', '2,5', '1:7.500');
        //addLocation('BARBATE', '08', 'Corridor', '5900', '38.109425,-0.654615', '9', 'Guardamar Norte', '25', '2,5', '1:7.500');
        //addLocation('BARBATE', '09', 'One man relay', '7200', '38.109425,-0.654615', '10', 'Guardamar Norte', '25', '2,5', '1:7.500');
        //addLocation('BARBATE', '10', 'Långa natten', '11800', '38.109425,-0.654615', '11', 'Guardamar Norte', '25', '2,5', '1:10.000');
        //addLocation('BARBATE', '11', 'Short', '3600', '38.109425,-0.654615', '12', 'Guardamar Norte', '8', '2,5', '1:5.000');
        //addLocation('BARBATE', '12', 'Kurvbild + kontrollplock', '8800', '38.109425,-0.654615', '12', 'Guardamar Norte', '60', '2,5', '1:5.000');
        //
        //addLocation('BARBATE', '13', 'Middle (kurvbild)', '5900', '38.090196,-0.649855', '15', 'Guardamar Middle', '15', '2,5', '1:7.500');
        //addLocation('BARBATE', '14', 'One man relay', '4700', '38.108186,-0.652364', '16', 'Guardamar Middle', '17', '2,5', '1:7.500');
        //addLocation('BARBATE', '15', 'Intervall', '5400', '38.090196,-0.649855', '17', 'Guardamar Middle', '13', '2,5', '1:7.500');
        //addLocation('BARBATE', '16', 'Middle (kurvbild)', '5900', '38.090196,-0.649855', '18', 'Guardamar Middle', '15', '2,5', '1:7.500');
        //
        //addLocation('BARBATE', '000', 'One man relay', '6600', '38.048326,-0.656899', '17', 'Guardamar Middle', '18', '2,5', '1:7.500');
        //
        //
        //addLocation('BARBATE', '21', 'Middle', '7600', '38.145149,-0.661229', '21', 'El Molar', '18', '2,5', '1:10000');
        //
        //addLocation('BARBATE', '22', 'Long', '9400', '38.220049,-0.552359', '22', 'Santa Pola', '32', '2,5', '1:7.500');
        //
        //
        //addLocation('BARBATE', '23', 'Long (Control picking)', '9400', '38.664371,-0.981672', '23', 'La Toconera, Caudete', '41', '5', '1:10.000');
        //addLocation('BARBATE', '24', 'Long (Control picking)', '8900', '38.548358,-0.837946', '24', 'Sax', '45', '5', '1:10.000');
        //addLocation('BARBATE', '25', 'Long', '10000', '38.591612,-1.146830', '25', 'Yecla', '49', '5', '1:10.000');
        //addLocation('BARBATE', '27', '2 sprints (2,2km + 2,4km)', '4600', '38.632680,-0.859538', '27', 'Villena', '30', '5', '1:4.000');
        //
        //addLocation('BARBATE', '28', 'Middle', '4500', '38.602706,-0.801805', '28', 'Peñarubia', '23', '5', '1:7.500');
        //addLocation('BARBATE', '29', 'Long', '10000', '38.075272,-1.101771', '29', 'Coto cuadros', '13', '5', '1:10.000');
        //
        //addLocation('BARBATE', '30', 'Middle', '6600', '38.134622,-1.731448', '30', 'Coto de las Maravillas', '29', '5', '1:10.000');
        //addLocation('BARBATE', '31', 'Middle', '5200', '38.133494,-1.693672', '31', 'Coto de las Maravillas', '18', '5', '1:10.000');
        //
        //addLocation('BARBATE', '32', 'Sprint', '2300', '38.1067403,-1.8592547', '32', 'Caravaca', '19', '5', '1:4.000');
        //
        //addLocation('BARBATE', '35', 'Sprint', '2100', '38.921764,-1.722088', '35', 'Chinchilla.', '16', '5', '1:4.000');
        //
        //
        //addLocation('BARBATE', 'SI2', 'Middle (SI-race)', '6100', '38.09057, -0.65025', '10', 'Guardamar', '20', '2.5', '1:7.500');


        var days = [];
        var addDay = function (name) {
            var d = { name: name, sessions: [] };
            days.push(d);
            d.addSession = function (from, to, title, code, intensity, comment) {
                var s = {
                    from: from,
                    to: to,
                    title: title,
                    code: code,
                    intensity: intensity,
                    comment: comment
                };

                d.sessions.push(s);
                return d;
            };

            return d;
        };

        //var days = [];
        //var addDay = function (name, fm, em, night, intenseties) {
        //    var d = { name: name, fm: fm, em: em, night: night, intenseties: intenseties };
        //    days.push(d);
        //    return d;
        //};

        //var addSession = function (from, to, title, code, intensity, comment) {
        //    var s = new {
        //        from: from,
        //        to: to,
        //        title: title,
        //        code: code,
        //        intensity: intensity,
        //        comment: comment
        //    };
        //};

        addDay('18 Söndag')
            .addSession(17, 18, 'EM', '14', 2, 'Tänk på att flygresor sliter och satsa framförallt på att komma in i kartan');

        addDay('19 Måndag')
        .addSession(10, 12, 'Multiteknik', '03', 1)
        .addSession(17, 19, 'Skogssprint', '07', 3);


        addDay('20 Tisdag')
        .addSession(9.5, 10, 'Till träning')       
        .addSession(10, 12, 'Downhills', '12', 2)
        .addSession(16, 16.5, 'Till träning')
        .addSession(16.5, 18, 'EM', '06', 1)
        .addSession(20, 21, 'Barbate night challenge');



        addDay('21 Onsdag')
        //.addSession(10, 12, 'FM', '05', 4)
        .addSession(9, 9.5, 'Till träning')
        .addSession(9.5, 12, 'Stafett-träning', '05', 4)
        .addSession(17, 19, 'Medel', '13', 1);




        addDay('22 Torsdag')
        .addSession(9, 10, 'Till träning')
        .addSession(10, 11, 'Medel', '08', 2)
        .addSession(15, 17, 'Medel', '16', 1);

        addDay('23 Fredag')
        .addSession(10, 11, 'Medel', '02', 1)
        .addSession(17, 18, 'Medel', '10', 3);


        addDay('24 Lördag')
        //.addSession(10, 12, 'FM', '05', 4)
        .addSession(10, 12, 'Träningstävling - lång', '04', 4)
        .addSession(17, 18, 'Roche', '15', 2);


        addDay('25 Söndag')
        .addSession(8, 12, 'Hemresa');
		

        function buildTraining(training, timeOnDay, description) {
            var title = "Vila";
            var trainingInfo = null;
            var code = '';
            if (training) {
                code = training.code;
                title = training.trainingType;

                var coords = training.location.split(',');

                trainingInfo = "<section class='infoC'>"
                    + "<div class='info'>"
                       + "<dl>"
        + "<dt>Längd</dt>"
        + "<dd>" + training.distance + "m</dd>"
        + "<dt>Skala</dt>"
        + "<dd>" + training.scale + "</dd>"
                    + "<dt>Plats</dt>"
        + "<dd>" + training.location + "</dd>"
            + "<dt>Karta</dt>"
        + "<dd>" + training.mapName + "</dd>"

    + "</dl>"
                    + "</div>"
                                    + "<div class='map'>"
                        + "<a href='https://www.google.com/maps/place/" + coords[0] + "," + coords[1] + "' target='_blank'>'<img src='https://maps.googleapis.com/maps/api/staticmap?zoom=10&size=280x180&maptype=roadmap&markers=color:blue%7Clabel:S%7C" + coords[0] + "," + coords[1] + "&sensor=true' alt='' /></a>"
                    + "</div>"
                + "</div></section>";
            }

            var html = "<section class='training' id='" + code + "'><h2>" + timeOnDay + ":" + title + "</h2>";

            html += "<span class='code'>" + code + "</span>";

            if (trainingInfo) {
                html += trainingInfo;
            }

            return html + "</section>";
        }

        function buildSession(session, training) {
            var title = session.title;
            var trainingInfo = null;
            var code = '';
            if (training) {
                code = training.code;
                title = training.trainingType;

                var coords = training.location.split(',');

                trainingInfo = "<section class='infoC'>"
                    + "<div class='info'>"
                       + "<dl>"
        + "<dt>Längd</dt>"
        + "<dd>" + training.distance + "m</dd>"
        + "<dt>Skala</dt>"
        + "<dd>" + training.scale + "</dd>"
                    + "<dt>Plats</dt>"
        + "<dd>" + training.location + "</dd>"
            + "<dt>Karta</dt>"
        + "<dd>" + training.mapName + "</dd>"

    + "</dl>"
                    + "</div>"
                                    + "<div class='map'>"
                        + "<a href='https://www.google.com/maps/place/" + coords[0] + "," + coords[1] + "' target='_blank'>'<img src='https://maps.googleapis.com/maps/api/staticmap?zoom=10&size=280x180&maptype=roadmap&markers=color:blue%7Clabel:S%7C" + coords[0] + "," + coords[1] + "&sensor=true' alt='' /></a>"
                    + "</div>"
                + "</div></section>";
            }

            var html = "<section class='training' id='" + code + "'><h2>" + showTime(session.from) + ":" + title + "</h2>";

            html += "<span class='code'>" + code + "</span>";

            if (trainingInfo) {
                html += trainingInfo;
            }
            if (session.comment) {
                html += '<p>' + session.comment + '</p>';
            }

            return html + "</section>";
        }

        var showTime = function (h) {
            var str = h.toString();
            var parts = str.replace(',', '.').split('.');
            var res = parts[0].length == 1 ? '0' + parts[0] : parts[0];

            if (parts.length > 1) {
                res += ':30';
            } else {
                res += ':00';
            }
            return res;
        };

        var buildHtml = function () {

            var dayRow = document.getElementById('days');

            var tbl = document.getElementById('tblBody');



            for (var i = 12; i < 48; i++) {
                var h = i / 2;
                var row = document.createElement('tr');
                var th = document.createElement('th');
                th.innerHTML = showTime(h);
                row.appendChild(th);
                for (var d = 0; d < days.length; d++) {
                    var day = document.createElement('td');
                    day.id = 'd' + d + 't' + i;

                    row.appendChild(day);
                }
                tbl.appendChild(row);
            }

            //var fmRow = document.getElementById('fms');
            //var emRow = document.getElementById('ems');
            //var nightRow = document.getElementById('nights');
            dayRow.appendChild(document.createElement('th'));

            var getTraining = function (code) {
                return locations.filter(function (t) { return t.code == code; })[0];
            };
            var buildTableHtml = function (session, training) {
                if (training) {
                    return "<a href='#" + training.code + "'>" + training.code + "</a><br />" + training.distance + "m<br /><span class='smallTitle'>" + training.trainingType + "</span>";
                } else {
                    return session.title + (session.comment ? (':' + session.comment) : '');
                }
            };




            for (var i = 0; i < days.length; i++) {
                var day = days[i];

                var dayCard = document.createElement('section');
                dayCard.classList.add("day");

                var node = document.createElement('h1');
                node.textContent = day.name;
                node.classList.add('trainingDay');
                document.getElementById('content').appendChild(node);
                node.parentElement.insertBefore(dayCard, node);
                dayCard.appendChild(node);

                var dayInfo = document.createElement('div');
                dayInfo.classList.add("infoD");

                dayCard.appendChild(dayInfo);

                for (var s = 0; s < day.sessions.length; s++) {
                    var session = day.sessions[s];

                    var td = document.getElementById('d' + i + 't' + session.from * 2);
                    var tds = 1;
                    for (var t = session.from + 0.5; t < session.to; t += 0.5) {
                        tds++;
                        document.getElementById('d' + i + 't' + t * 2).remove();
                    }
                    td.setAttribute('rowspan', tds);

                    var training = getTraining(session.code);
                    td.classList.add("level" + session.intensity);

                    td.innerHTML = buildTableHtml(session, training);

                    dayInfo.innerHTML += buildSession(session, training);
                    //+ buildTraining(emTraining, "EM", node.getAttribute("data-emdesc"))
                    //+ buildTraining(nightTraining, "Night", node.getAttribute("data-nightdesc"));

                }

                var dayHeader = document.createElement('th');
                dayHeader.innerText = day.name;
                dayRow.appendChild(dayHeader);




                //var fmCol = document.createElement('td');
                //var fmTraining = getTraining(day.fm);
                //setIntesity(fmTraining, day.intenseties[0], fmCol);

                //fmCol.innerHTML = buildTableHtml(fmTraining);

                //fmRow.appendChild(fmCol);

                //var emCol = document.createElement('td');
                //var emTraining = getTraining(day.em);
                //setIntesity(emTraining, day.intenseties[1], emCol);
                //emCol.innerHTML = buildTableHtml(emTraining);

                //emRow.appendChild(emCol);

                //var nightCol = document.createElement('td');
                //var nightTraining = getTraining(day.night);
                //setIntesity(nightTraining, day.intenseties[2], nightCol);

                //nightCol.innerHTML = buildTableHtml(nightTraining);

                //nightRow.appendChild(nightCol);


            }
        }


        var map = null;

        function getMap() {
            if (typeof Microsoft != 'undefined') {
                map = new Microsoft.Maps.Map(document.getElementById('myMap'), { credentials: 'AoueAZSQvSja6nXRyts_1y0SJtMc3KYEe6Dusm_j9xwWj6OdQnF4KuZgByb6z479' });
                for (var i = 0; i < locations.length; i++) {
                    var location = locations[i];
                    var coords = location.location.split(',');
                    var pushpinOptions = { text: location.code };
                    var pushpin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(coords[0], coords[1]), pushpinOptions);
                    map.entities.push(pushpin);
                }
            }
            buildHtml();
        }
    </script>
</head>

<body onload="getMap();">
    <div id='myMap' style="position:relative; width:400px; height:400px;"></div>

    <div id="content" class="content">
        <table id="tTbl">
            <thead>
                <tr id="days"></tr>
            </thead>
            <tbody id="tblBody">
                <!--<tr id="fms">
                    <th>FM</th>
                </tr>
                <tr id="ems">
                    <th>EM</th>
                </tr>
                <tr id="nights">
                    <th>N</th>
                </tr>-->
            </tbody>
        </table>

        <div id="legend">
            <div class="legendBlock level1">Lugn</div>
            <div class="legendBlock level2">Moderat</div>
            <div class="legendBlock level3">Hög</div>
            <div class="legendBlock level4">Tävlingsfart</div>
        </div>


    </div>
</body>

</html>
